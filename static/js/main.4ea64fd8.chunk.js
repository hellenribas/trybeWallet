(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{15:function(e,t,a){e.exports={container:"Table_container__x54Ro",main:"Table_main__37LH3",container_section:"Table_container_section__1qJFN",link_wallet:"Table_link_wallet__2Yf0e",table:"Table_table__3b0ZN",button_container:"Table_button_container__1WrAQ",add:"Table_add__3Nlp1",button:"Table_button__12JY2"}},17:function(e,t,a){e.exports={container:"Wallet_container__lD9OG",background:"Wallet_background__sqZE5",form:"Wallet_form__1GeRP",container_form:"Wallet_container_form__3P1gt",head:"Wallet_head__3otmT",title:"Wallet_title__V1dAP","edit-pen":"Wallet_edit-pen__1zMvs",link_expenses:"Wallet_link_expenses__3PKXV"}},20:function(e,t,a){e.exports={main:"Login_main__7YOlD",form:"Login_form__Pxc-d"}},21:function(e,t,a){e.exports={container:"Hearder_container__1K0be","container-logo":"Hearder_container-logo__1JCxU",wallet:"Hearder_wallet__T6l1v",user:"Hearder_user__1PqZp",value:"Hearder_value__1k5sn"}},28:function(e,t,a){e.exports={footer:"Footer_footer__1f9sq",github:"Footer_github__3qbzR"}},37:function(e,t,a){e.exports=a.p+"static/media/logo.dc401a86.svg"},38:function(e,t,a){e.exports=a.p+"static/media/user-logo.552d6d1e.svg"},39:function(e,t,a){e.exports=a.p+"static/media/wallet-logo.5d8d3b97.svg"},43:function(e,t,a){e.exports=a(59)},48:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(24),l=a.n(c),i=a(13),o=(a(48),a(14)),s=a(8),u=a(9),m=a(11),d=a(10),p=a(3),E=a(19),h=a(5),b=a(23),f=a.n(b),v=a(27),_=a(20),g=a.n(_),x=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleInput=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value;n.setState(Object(E.a)({},t.name,a),(function(){return n.validate()}))},n.validate=function(){var e=n.state,t=e.email,a=e.password;t.match(/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/)&&a.length>=6?n.setState({isDisabled:!1}):n.setState({isDisabled:!0})},n.state={email:"",password:"",isDisabled:!0},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state,t=e.isDisabled,a=e.email,n=this.props,c=n.funcEmail,l=n.history;return r.a.createElement("main",{className:g.a.main},r.a.createElement("form",{className:g.a.form},r.a.createElement("label",{htmlFor:"email"},"USU\xc1RIO",r.a.createElement("input",{type:"email",name:"email",id:"email","data-testid":"email-input",onChange:this.handleInput,className:g.a.user})),r.a.createElement("label",{htmlFor:"password"},"SENHA",r.a.createElement("input",{type:"password",name:"password","data-testid":"password-input",id:"password",onChange:this.handleInput,className:g.a.password})),r.a.createElement("button",{type:"button",disabled:t,onClick:function(){c(a),l.push("/carteira")},className:g.a.button},"ENTRAR")))}}]),a}(n.Component),O=Object(o.b)(null,(function(e){return{funcEmail:function(t){return e(function(e){return{type:"EMAIL_ACTION",email:e}}(t))}}}))(x),y=a(36),j=a(28),C=a.n(j),N=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",{className:C.a.footer},r.a.createElement("a",{href:"https://github.com/hellenribas?tab=repositories",target:"_blank",rel:"noreferrer"},r.a.createElement(y.a,{className:C.a.github})))}}]),a}(n.Component),w=a(37),S=a.n(w),k=a(38),R=a.n(k),T=a(39),I=a.n(T),A=a(21),D=a.n(A),U=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.userEmail,a=e.despesas,n=a.map((function(e){var t=e.currency,a=e.value,n=e.exchangeRates;return Number(a)*Number(n[t].ask)}));return r.a.createElement("header",{className:D.a.container},r.a.createElement("section",{className:D.a["container-logo"]},r.a.createElement("img",{src:S.a,alt:"logo-trybewallet"}),r.a.createElement("h1",null,"TRYBEWALLET")),r.a.createElement("section",{className:D.a.wallet},r.a.createElement(i.b,{to:"carteira"},r.a.createElement("img",{src:I.a,alt:"wallet-logo"})),r.a.createElement("div",{className:D.a.value},r.a.createElement("div",{"data-testid":"header-currency-field"},"R$"),r.a.createElement("div",{"data-testid":"total-field"}),a.length>0?n.reduce((function(e,t){return e+t})).toFixed(2):0)),r.a.createElement("section",{className:D.a.user},r.a.createElement("img",{src:R.a,alt:"user-logo"}),r.a.createElement("p",{"data-testid":"email-field"},t)))}}]),a}(n.Component),F=Object(o.b)((function(e){return{userEmail:e.user.email,despesas:e.wallet.expenses}}))(U),P=a(15),W=a.n(P),M=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).state={redirect:!1},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.expenses,n=t.removeExpense,c=t.receiveEdit,l=this.state.redirect;return r.a.createElement("div",{className:W.a.container},r.a.createElement(F,null),r.a.createElement("section",{className:W.a.main},0===a.length?r.a.createElement("section",{className:W.a.container_section},r.a.createElement(i.b,{to:"/carteira"},r.a.createElement("button",{type:"button",className:W.a.link_wallet},"+")),r.a.createElement("h3",null,"ADICIONE DESPESAS")):r.a.createElement("table",{className:W.a.table},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"Pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio"),r.a.createElement("th",null,"Valor Convertido"),r.a.createElement("th",null,"Moeda de Convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir"))),r.a.createElement("tbody",null,a.length>0&&a.map((function(t){return r.a.createElement("tr",{key:"".concat(t.id)},r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.tag),r.a.createElement("td",null,t.method),r.a.createElement("td",null,Number(t.value).toFixed(2)),r.a.createElement("td",null,t.exchangeRates[t.currency].name.split("/")[0]),r.a.createElement("td",null,Number(t.exchangeRates[t.currency].ask).toFixed(2)),r.a.createElement("td",null,(Number(t.value)*Number(t.exchangeRates[t.currency].ask)).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",{className:W.a.button_container},r.a.createElement("button",{type:"button","data-testid":"edit-btn",onClick:function(){c(t.id),e.setState({redirect:!0})}},"Editar"),r.a.createElement("button",{type:"button","data-testid":"delete-btn",onClick:function(){return n(t.id)}},"Excluir")))})))),l&&r.a.createElement(p.a,{to:"/carteira"})),a.length>0&&r.a.createElement(i.b,{to:"carteira",className:W.a.add},r.a.createElement("button",{type:"button",className:W.a.button},"ADICIONAR MAIS")),r.a.createElement(N,null))}}]),a}(n.Component),V=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{removeExpense:function(t){return e(function(e){return{type:"REMOVE_EXPENSE",id:e}}(t))}}}))(M),L=a(40),Q=a(17),H=a.n(Q),q=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).handleInput=function(t){var a=t.target,n="checkbox"===a.type?a.checked:a.value;e.setState(Object(E.a)({},a.name,n))},e.saveExpensesClick=function(){var t=e.props.saveExpenses,a=e.state,n=a.value,r=a.description,c=a.method,l=a.currency,i=a.tag,o=a.id;e.setState((function(e){return{id:e.id+1}}),(function(){t({value:n,description:r,method:c,currency:l,tag:i,id:o}),e.setState({value:0,description:"",method:"Dinheiro",currency:"USD",tag:"Alimenta\xe7\xe3o"})}))},e.editExpensesClick=function(){var t=e.props,a=t.editExpenses,n=t.exchange,r=t.idTarget,c=e.state;a({value:c.value,description:c.description,method:c.method,currency:c.currency,tag:c.tag,id:r,exchangeRates:n[r].exchangeRates}),e.setState({value:0,description:"",method:"Dinheiro",currency:"USD",tag:"Alimenta\xe7\xe3o",redirect:!0})},e.state={id:0,value:0,description:"",method:"Dinheiro",currency:"USD",tag:"Alimenta\xe7\xe3o",redirect:!1},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.fetchCurrenciesProp)()}},{key:"render",value:function(){var e=this,t=this.props,a=t.currencies,n=t.edit,c=t.receiveEditOff,l=this.state,o=l.value,s=l.description,u=l.method,m=l.currency,d=l.tag,E=l.redirect;return r.a.createElement("div",{className:H.a.container},r.a.createElement(F,null),r.a.createElement("div",{className:H.a.container_form},r.a.createElement("form",{className:H.a.form},r.a.createElement("div",{className:H.a.head},r.a.createElement("h1",{className:H.a.title},"ADICIONAR DESPESAS"),n?r.a.createElement("button",{type:"button",onClick:function(){e.editExpensesClick(),c()}},r.a.createElement(L.a,{className:H.a["edit-pen"]})):r.a.createElement("button",{type:"button",onClick:this.saveExpensesClick},"+")),r.a.createElement("label",{htmlFor:"value"},r.a.createElement("span",null,"Quanto voc\xea pagou?"),r.a.createElement("input",{type:"number","data-testid":"value-input",name:"value",id:"value",value:o,onChange:this.handleInput})),r.a.createElement("label",{htmlFor:"description"},"O que voc\xea comprou?",r.a.createElement("input",{type:"text","data-testid":"description-input",name:"description",id:"description",value:s,placeholder:"exemplo: caf\xe9",onChange:this.handleInput})),r.a.createElement("label",{htmlFor:"category-input"},"Qual a categoria?",r.a.createElement("select",{id:"category-input","data-testid":"tag-input",onChange:this.handleInput,name:"tag",value:d},r.a.createElement("option",{value:"Alimenta\xe7\xe3o"},"Alimenta\xe7\xe3o"),r.a.createElement("option",{value:"Lazer"},"Lazer"),r.a.createElement("option",{value:"Trabalho"},"Trabalho"),r.a.createElement("option",{value:"Transporte"},"Transporte"),r.a.createElement("option",{value:"Sa\xfade"},"Sa\xfade"))),r.a.createElement("label",{htmlFor:"method-inputs"},"Como voc\xea pagou?",r.a.createElement("select",{"data-testid":"method-input",id:"method-inputs",name:"method",value:u,onChange:this.handleInput},r.a.createElement("option",{value:"Dinheiro"},"Dinheiro"),r.a.createElement("option",{value:"Cart\xe3o de cr\xe9dito"},"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",{value:"Cart\xe3o de d\xe9bito"},"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{htmlFor:"options-currencies"},"Qual a Moeda utilizada?",r.a.createElement("select",{id:"options-currencies",onChange:this.handleInput,name:"currency","data-testid":"currency-input",value:m},a.map((function(e,t){return r.a.createElement("option",{key:"".concat(e).concat(t)},e)})))),r.a.createElement(i.b,{to:"/despesas"},r.a.createElement("button",{type:"button",className:H.a.link_expenses},"DESPESAS")))),r.a.createElement(N,null),E&&r.a.createElement(p.a,{to:"/despesas"}))}}]),a}(r.a.Component),K=Object(o.b)((function(e){return{currencies:e.wallet.currencies,exchange:e.wallet.expenses}}),(function(e){return{fetchCurrenciesProp:function(){return e(function(){var e=Object(v.a)(f.a.mark((function e(t){var a,n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"REQUEST_CURRENCIES"}),e.next=3,fetch("https://economia.awesomeapi.com.br/json/all");case 3:return a=e.sent,e.next=6,a.json();case 6:delete(n=e.sent).USDT,r=Object.keys(n),t({type:"RECEIVE_CURRENCIES",currencies:r});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},saveExpenses:function(t){return e(function(e){return function(){var t=Object(v.a)(f.a.mark((function t(a){var n,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"REQUEST_ASK"}),t.next=3,fetch("https://economia.awesomeapi.com.br/json/all");case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,c=Object(h.a)(Object(h.a)({},e),{},{exchangeRates:r}),a({type:"RECEIVE_ASK",data:c});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},editExpenses:function(t){return e({type:"EDIT_ACTION",editExp:t})}}}))(q),z=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(s.a)(this,a),(e=t.call(this)).receiveEdit=function(t){console.log(t),e.setState({edit:!0,idTarget:t})},e.receiveEditOff=function(){e.setState({edit:!1})},e.state={edit:!1,idTarget:""},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.edit,n=t.idTarget;return r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:O}),r.a.createElement(p.b,{exact:!0,path:"/carteira",render:function(){return r.a.createElement(K,{edit:a,idTarget:n,receiveEditOff:e.receiveEditOff})}}),r.a.createElement(p.b,{exact:!0,path:"/despesas",render:function(){return r.a.createElement(V,{receiveEdit:e.receiveEdit})}}))}}]),a}(n.Component),J=a(16),Y=a(41),B=a(42),X={email:""},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EMAIL_ACTION":return{email:t.email};default:return e}},$=a(31),G={currencies:[],expenses:[]},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_CURRENCIES":return Object(h.a)({},e);case"RECEIVE_CURRENCIES":return Object(h.a)(Object(h.a)({},e),{},{currencies:e.currencies.concat(t.currencies)});case"REQUEST_ASK":return Object(h.a)({},e);case"RECEIVE_ASK":return Object(h.a)(Object(h.a)({},e),{},{expenses:[].concat(Object($.a)(e.expenses),[t.data])});case"REMOVE_EXPENSE":return Object(h.a)(Object(h.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==t.id}))});case"EDIT_ACTION":var a=t.editExp.id;return e.expenses[a]=t.editExp,Object(h.a)(Object(h.a)({},e),{},{expenses:Object($.a)(e.expenses)});default:return e}},te=Object(J.combineReducers)({user:Z,wallet:ee}),ae=Object(J.createStore)(te,Object(Y.composeWithDevTools)(Object(J.applyMiddleware)(B.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(i.a,null,r.a.createElement(o.a,{store:ae},r.a.createElement(z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.4ea64fd8.chunk.js.map